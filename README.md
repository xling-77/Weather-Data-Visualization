# Weather-Data-Visualization——基于Vue的天气数据可视化系统
Urban Weather Data Visualization System Based on Vue, mainly Echarts and Axios configured.
- **城市级天气数据可视化**，实时展示当前天气情况及预警，便捷获知近期天气情况，助力相关专业人士分析。
- **主要技术点**：Vue组件化开发、Echarts图表配置、grid && flex && @media响应式布局、Axios请求封装（拦截器、本地缓存命中、取消请求、并发请求）。

## 在线体验

地址：[https://xling-77.github.io/Weather-Data-Visualization/](https://xling-77.github.io/Weather-Data-Visualization/)
> 注：页面展示数据为预设数据，非实时请求。

## 内置功能

1、【已封装】全国城市选择器（依次选择省、对应的市）。

- 自由选择全国城市，选择范围至区县，可根据需求调整。
- 悬浮显示，自主开关。
- 配置图标旋转动画，图标根据状态变色。
- 可传递所选数据，默认传递参数为所选城市的地区编码id，可根据需求调整传递参数（如：城市名）。

2、 配置多种图表类型，如雷达风向图、气温变化组合图。采用Echarts图表动态引入数据，**解决图表大小自动随视口变化问题**，响应式更新图表。

3、 实时气温智能变色，直观展现温度预警级别。如：若温度达蓝色预警值，数字变蓝色。

4、预警智能提示。如没有预警，该内容将不显示。

5、日升月落动态进度条。根据更新时刻动态展示时刻进度。

6、动态滚动小贴士字幕。

7、适配电脑大屏、手机屏幕。

8、自动记忆上一次选择的城市，初始化页面即得该城市的实时数据。

> 原理：
> - 基于localStorage API进行本地缓存，减少http请求次数，节省资源（主要是钱包资源）。
> - 缓存命中规则：请求url、方法、参数一致且缓存数据在上一次请求后24小时内。即：同一城市在24小时内重复查询，数据是上一次的。
> - 初次查询一个城市时，请求成功会被响应拦截器缓存数据；24h内再次查询，请求拦截器会取消请求并返回缓存数据呈现在页面上。

*数据来源：天行数据API（如需实时数据，需自行注册账号，并修改请求配置）*

## 参数设置
> 项目第三方依赖：echarts、axios。本地运行请先初始化vue项目，安装相关依赖。

- url地址及请求配置：请移步utils文件夹，url.js存放请求url，index.js存放请求配置。
- 城市选择器可选择至区县：进入citySelect.vue，将市级选择框的v-on清除，将区县选择框的注释标记清除，将data中的countyData的注释标记清除。
- 样式修改：请移步assets→css→grid.css。

# 后期计划

逐步完善功能并优化页面，完善请求封装。成长期，欢迎留言指教 ;)
